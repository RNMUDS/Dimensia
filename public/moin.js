// あなたが提示したコードをそのまま貼り付けます
import * as THREE from 'three';

// === 基本設定（シーン、カメラ、レンダラーなど） ===
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
// (以下、あなたのコードをすべてコピー)
// ...